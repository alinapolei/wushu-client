<div id="box">
    <h1>תחרות - {{currentCompetition.description}}</h1>

    <div class="center">
        <div class="verticalLine threePartsScreenDiv">
            <h5>סדר התחרות</h5>
            <br>
            <div class="centerButTextRight">
                <h6 ng-repeat="categorySportsman in sportsmanQueue" ng-if="$index >= currentCategoryIndex">
                    <b>קטגוריה: {{getAgeRange(categorySportsman.category)}} {{currentCategory.name}}</b>
                    <div ng-repeat="sportsman in categorySportsman.users" ng-if="$index >= currentSportsmanIndex">
                        {{sportsman.firstname}} {{sportsman.lastname}}
                    </div>
                    <br>
                </h6>
            </div>
        </div>

        <div class="verticalLine threePartsScreenDiv">
            <h5>הזן ציון לספורטאי</h5>
            <br>
            <div class="centerButTextRight">
                <h6>
                    <b>קטגוריה:</b>
                    {{currentCategory.name}} {{getAgeRange(currentCategory)}}
                </h6>
                <h6>
                    <b>ספורטאי:</b>
                    {{currentSportsman.firstname}} {{currentSportsman.lastname}}
                </h6>
                <div ng-form name="gradeForm" class="wrap-input100 validate-input"
                     style="width: 200px; border-bottom: 1px solid black;"
                     ng-class="{'alert-validate' : gradeForm.grade.$invalid}"
                     data-validate="{{gradeForm.grade.$error.pattern ? 'ציון לא תקין' : ''}}">
                    <span class="label-input100">ציון: </span>
                    <input class="input100" type="text" name="grade" ng-model="grade"
                           ng-pattern="regex.regexForCompetitionGrade">
                    <span class="focus-input100"></span>
                </div>
            </div>
        </div>

        <div class="threePartsScreenDiv">
            <h5>ציונים סופיים</h5>
            <br>
<!--            <h6>-->
<!--                <b>קטגוריה:</b>-->
<!--                {{sportsmanQueue[currentCategoryIndex].name}} {{getAgeRange(sportsmanQueue[currentCategoryIndex])}}-->
<!--            </h6>-->
<!--            <table class="tableUser" cellspacing="0">-->
<!--                <tr>-->
<!--                    <th class="thInItemList">ת.ז.</th>-->
<!--                    <th class="thInItemList">שם מלא</th>-->
<!--                    <th class="thInItemList" ng-repeat="judge in judges">ציון שופט {{1+index$}}</th>-->
<!--                    <th class="thInItemList">ציון שופט ראשי</th>-->
<!--                    <th class="thInItemList">ציון סופי</th>-->
<!--                </tr>-->
<!--                <tr class="itemInItemList"-->
<!--                    ng-repeat="sportsman in sportsmanQueue[currentCategoryIndex].users"-->
<!--                    ng-class="{'active' : selectedNotRegisteredUsers.includes(user)}"-->
<!--                    ng-click="selectNotRegistered(user)">-->
<!--                    <td class="tdInItemList">{{user.id}}</td>-->
<!--                    <td class="tdInItemList">{{user.firstname}} {{user.lastname}}</td>-->
<!--                </tr>-->
<!--            </table>-->
            <h6>
                <b>קטגוריה:</b>
                {{currentCategory.name}} {{getAgeRange(currentCategory)}}
            </h6>
            <table class="tableUser" cellspacing="0">
                <tr>
                    <th class="thInItemList">ת.ז.</th>
                    <th class="thInItemList">שם מלא</th>
                    <th class="thInItemList" ng-repeat="judge in judges">ציון-{{judge.firstname}}</th>
                    <th class="thInItemList">ציון שופט ראשי</th>
                    <th class="thInItemList">ציון סופי</th>
                    <th class="thInItemList"></th>
                </tr>
                <tr
                    ng-repeat="sportsman in sportsmanGrade.get(currentCategory.id)">
                    <td class="tdInItemList">{{sportsman.value.id}}</td>
                    <td class="tdInItemList">{{sportsman.value.firstname}} {{sportsman.value.lastname}}</td>
                    <td class="tdInItemList" ng-repeat="judge in judges">
                        <div ng-form name="judgesGradeForm" class="wrap-input100 validate-input"
                             style="width: 70px; border-bottom: 1px solid black; margin-bottom: 0px;"
                             ng-class="{'alert-validate' : gradeForm.grade.$invalid}"
                             data-validate="{{gradeForm.grade.$error.pattern ? 'ציון לא תקין' : ''}}">
                            <input class="input100" style="padding: 0px; text-align: center; height: auto" type="text" name="grade" ng-model="sportsman.judgeGrades.get(judge.id)"
                                   ng-pattern="regex.regexForCompetitionGrade">
                            <span class="focus-input100"></span>
                        </div>
                    </td>
                    <td class="tdInItemList">
                        <div ng-form name="masterGradeForm" class="wrap-input100 validate-input"
                             style="width: 70px; border-bottom: 1px solid black; margin-bottom: 0px;"
                             ng-class="{'alert-validate' : gradeForm.grade.$invalid}"
                             data-validate="{{gradeForm.grade.$error.pattern ? 'ציון לא תקין' : ''}}">
                            <input class="input100" style="padding: 0px; text-align: center; height: auto" type="text" name="grade" ng-model="sportsman.masterGrade"
                                   ng-pattern="regex.regexForCompetitionGrade">
                            <span class="focus-input100"></span>
                        </div>
                    </td>
                    <td class="tdInItemList">{{avg}}</td>
                    <td class="tdInItemList">
                        <input type="submit" ng-class="{'disabled' : masterGradeForm.$valid && judgesGradeForm.$valid}"
                               ng-click="saveGrades()" style="padding: 9px 10px;"
                               ng-disabled="masterGradeForm.$valid && judgesGradeForm.$valid"
                               value="אשר"/>
                    </td>
                </tr>
            </table>
        </div>
    </div>

    <div style="margin-top: 10px">
        <input type="submit" ng-class="{'disabled' : disableButtonNext || !grade}"
               ng-click="nextSportsman()"
               ng-disabled="disableButtonNext || !grade"
               value="לספורטאי הבא"/>

        <i class="fa fa-male" aria-hidden="true" ng-repeat="judge in judges" style="font-size: x-large; padding: 5px;"
           ng-style="{'color': judge.isGraded ? 'green' : 'lightGray'}" data-toggle="tooltip" data-placement="right"
           title="{{judge.firstname}} {{judge.lastname}}"></i>
    </div>
</div>
